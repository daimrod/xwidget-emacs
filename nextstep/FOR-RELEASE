-*- outline -*-

* NON-SPECIFIC

** Remove Feval calls relating to insert working text in isearch mode.

** free_frame_resources, face colors

** look at nsfont_char_width and nsfont_string_width utils (Dan C.)

** config improvements (Dan C.)

* Mac-related:

** open file:/// URLs

** finish handle terminate request (user logout)

** put frame autopositioning into C code somewhere -- if loc = same, offset

** automap ctrl-mouse-1 to mouse-3

** deal with Finder aliases somehow

** Ctrl-F2 won't pull up menus


* Cursor:

** ns_cursor_blink_rate: when set in preferences, somehow save the option (but
  calling custom-save-all from this causes error)

** cursor nonerase on certain Leopard and Tiger installations

** if I do:  (mouse-avoidance-mode 'banish) and then minimize Emacs, it pops back immediately.
  Also, it insists on being on top of other windows if they overlap.

** cursor-over bugs w/some scripts (move around in HELLO to see)


Keyboard:

On a German (PowerBook?) keyboard alt-` produces the correct ˚, without alt modifier only the message “<S-268632064> is undefined” is produced. Peter Maurer’s Key codes shows:
        * Modifier Change: ⇧ 131330/0x20102
        * Key Down/Up event: ⇧ 24/0x18
[note, this is += key on German KB setting on US keyboard]
[unable to reproduce w/German KB setting -- need German laptop?]

** numeric keysetting bug


* Other:

** better recog of unicode scripts / Greek / composition

** Ctrl-g not picked up in all situations get --experimental-ctrl-g in 'compile' working better

** Exec-dump not working on GNUstep (so slow startup).

** occasional size too large for screen errors

** undo for color-drag face customization




---------
* DONE

Try font-backend mechanism (see font.h).

Auto font substitution?

ns-option-modifier (alias for ns-alternate-modifier)

ns-control-modifier, ns-function-modifier (new)

- Frame bugs:
  - create frame on second monitor fails (due to frame-parameters).

toolbar bugs

fix cursor disappears on italic text bug

fix scrollbar erase on Ctrl-l bug

Menubar emacs-21 compatibility.  Make this and command-is-meta
    switchable at startup.  Switch mouse handling to 3-button compatible.

mouse button normalization


[rc1 released]


shift-alt-h does produce Ó (according C-h k), but this glyph is not
always shown completely, it seems to depend on the font used

[width estimation still off; this character is 211 = 0xD3]

Another attempt at composite rendering.

shift-alt-6 does not produce ^ (dead key) but &.
[adding alt continues to pick up the '&' interpretation, but in other
 apps this suddenly changes it to a dead key]

- italic in Courier is still cut off

- dead keys end isearch w/o allowing typing
[need to insert to minibuffer if that is active]

When using the Dvorak with Qwerty keyboard shortcuts keyboard layout
(hereon in referred to as Dvorak-Qwerty), keyboard shortcuts
erroneously use the Dvorak layout. e.g. The Qwerty H key becomes D in
Dvorak, but with Dvorak-Qwerty the same key should be used when
hitting Cmd-H to hide an application. In Emacs.app with a
Dvorak-Qwerty layout I must hit Cmd-J (Qwerty J becomes H in Dvorak)
to hide the app.

- menus

- consolidate FRAME_INTERNAL_BORDER extension hacks

- mouse-1 activation problems (buttons, etc.): check keyboard.c HAVE_NS sections

- clean up bg fill code in font->draw(), and change conditions on when called with bg=yes

- clean up / optimize the metrics caching -- consider reducing memory load

- non-encapsulated build

- test color-drag face customization (accuracy and saving)

- look at ns-mark-nav replacement

- gnustep

- documentation:
  - "stipple" images, alpha, color-drag, etc.
  - make sure everyone finds it


[rc2 released]

- recheck font width determination for variable-width non-wide fonts

- resize-drag

- colored bitmaps (use NSCalibratedRGBColorspace for the bitmap and
  add a method setBitmapForegroundColor:color to twiddle the bits

- resize title printing bug


[rc2a released]

- naming: cursor "line" -> "bar", "bar" -> underscore

- incorporate Pete's locallisp patch

- document needed sudo for compile --shared-lisp


[patch 20071010_rc2a released]

- clean up ns-menu-bar.el and try folding into ns-win.el

- fix jaggedy startup screen w/black bkgrd

- Pete's fringe weirdness

- iconification: use shrunk image for non-finder types

- toolbar updating


[patch 20071015_rc2a released]

- multi-TTY merge

- terminal mode weird colors (real fix)

- Frame bugs:
  - a full-height frame will be shrunk on defocus, focus
    [actually must be over-height, but it's a little overzealous in the
     shrinking; probably happens in x_set_window_size]
  - adding toolbar on full-height frame requires resize to avoid scrambling

- Buffers menu brokenness

- inability to use ARGB colors problem

- cut buffer in TTY


[rc3 released]

- drop MULTI_KBOARD

- mic-paren removal (also see http://www.emacswiki.org/cgi-bin/wiki/mic-paren.el)

- describe-key problem

- drop need for preload advice (print-buffer workaround)

- new frame placement ignores parameters [cannot replicate]

- white text on background alpha

- Multi-TTY: switching input between tty and GUI frames still needs work.
  Once ns_select() and ns_read_socket() are being called, the regular terminal
  input route seems ineffective.  Furthermore NSApp activate events are not
  picked up when attempting to read in terminal mode.
  (Tests: make-frame-on-tty /dev/ttyp#, make-frame-on-display)

- remove ns-yes-or-no-p, try again to improve looks of regular dialog in nsmenu.m
